# 宏任务 --- 微任务

js是单线程，同一时间只能做一件事情，所有做事情要有主次之分，可以先做主要的事，再做次要的事情，次要的事情可以放到一个任务列表里



任务：dom渲染、用户事件、promise、定时器

微任务> 宏任务  ，promise是在微任务

每段代码都有自己的身份

引擎执行顺序：同步代码 => 异步代码 =》

```js
// 异步宏任务
setTimeout(()=>{
	console.log('定时器')
})
// 没有then的时候是同步主线程任务
new Promise(resolve =>{
	console.log('Promise')
	resoleve()
}).then(()=>{
    // 有then后就变成威任务了
	console.log('then')
})
// 同步主线程任务
console.log('后端人')
```



定时器：属于异步任务（宏任务）

当有定时器代码的时候就会有定时器模块用于记录定时器的开始和结束

定时器的时间是不确定的是相对的，这还得看主线程的使用时间

就是要等到主甬道任务结束后 => 轮训队列去提取定时器任务（这时候定时器已经走完了，将定时器任务放置到宏任务中，等到结束后就直接放出来）





## 文件加载

文件加载至上而下

##  进度条

```
function handle() {
	let i = 0
	(function run(){
		if (++i<= 100) {
			setTimeout(run,100)
		}
	})
}

```

